<!doctype html>
<html>
<head>

        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script>
          AFRAME.registerComponent('play', {
            init : function () {
               var myEl = document.querySelector('#yellow');
               this.el.addEventListener('click', function () {
                   myEl.components.sound.playSound();
                 });
            }
          });
          AFRAME.registerComponent('stop', {
            init : function () {
               var myEl = document.querySelector('#yellow');
               this.el.addEventListener('click', function () {
                   myEl.components.sound.stopSound();
                 });
            }
          });
          </script>
</head>

<body>
  <a-scene>
    <!-- Asset Management System -->
    <a-assets>
      <audio id="assiette" src="./assets/assiette.mp3"></audio>
      <audio id="pierres" src="./assets/pierres.mp3"></audio>
    </a-assets>

<!--Camera -->
<a-entity position="0 0 7">
  <a-camera>
    <a-cursor></a-cursor>
  </a-camera>
</a-entity>

<!-- Ground -->
<a-plane scale="40 40 1" repeat="2 2" rotation="-90 0 0">
</a-plane>

<!-- Blue Cylinder -->
<a-cylinder color="#0088FF" height="5" position="-2 2.5 0"
            sound="src: #assiette;
                   on: click;
                   volume: 1;
                   refDistance: 4;
                   rolloffFactor: 4">
  <a-entity sound="src: #assiette; autoplay: false" position="1.396 1.525 0">
  </a-entity>
  </a-cylinder>

  <!-- Yellow Box with Play and Stop Controls -->
  <a-box id="yellow" color="#FFAA00" position="1.5 0.5 0.5" sound="src: #pierres">
      <!-- Play -->
      <a-sphere color="#00AA00" radius="0.25" position="-0.5 1 0" play></a-sphere>
      <!--Stop -->
      <a-sphere color="#AA0000" radius="0.25" position="0.5 1 0" stop></a-sphere>
  </a-box>
  </a-scene>
  </body>
  </html>
